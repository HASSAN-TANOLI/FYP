(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{152:function(e,t,c){},153:function(e,t,c){},230:function(e,t,c){},255:function(e,t,c){"use strict";c.r(t);var a=c(4),r=c(2),s=c(18),n=c.n(s),o=c(10),l=c.n(o),i=c(14),d=c(6),j=c(9),u=c(20),b=c(7),m=c(12),p=c(15),O=c.n(p),h="LOGIN_REQUEST",x="LOGIN_SUCCESS",f="LOGIN_FAIL",v="REGISTER_USER_REQUEST",g="REGISTER_USER_SUCCESS",y="REGISTER_USER_FAIL",N="LOAD_USER_REQUEST",S="LOAD_USER_SUCCESS",_="LOAD_USER_FAIL",w="LOGOUT_SUCCESS",E="LOGOUT_FAIL",C="UPDATE_PROFILE_REQUEST",R="UPDATE_PROFILE_SUCCESS",P="UPDATE_PROFILE_FAIL",A="UPDATE_PROFILE_RESET",F="UPDATE_PASSWORD_REQUEST",D="UPDATE_PASSWORD_SUCCESS",I="UPDATE_PASSWORD_RESET",k="UPDATE_PASSWORD_FAIL",T="FORGOT_PASSWORD_REQUEST",U="FORGOT_PASSWORD_SUCCESS",L="FORGOT_PASSWORD_FAIL",V="NEW_PASSWORD_REQUEST",M="NEW_PASSWORD_SUCCESS",G="NEW_PASSWORD_FAIL",W="CLEAR_ERRORS",J=function(){return function(){var e=Object(i.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:N}),e.next=4,O.a.get("/api/v1/user");case 4:c=e.sent,a=c.data,t({type:S,payload:a.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:_,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},Q=function(e){e({type:W})},q="ADD_TO_CART",B="REMOVE_ITEM_CART",Y="SAVE_SHIPPING_INFO",H="REST_CART",z=function(e,t){return function(){var c=Object(i.a)(l.a.mark((function c(a,r){var s,n;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,O.a.get("/api/v1/product/".concat(e));case 2:s=c.sent,n=s.data,a({type:q,payload:{product:n.product._id,name:n.product.name,price:n.product.price,image:n.product.images[0].url,stock:n.product.stock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},K="LOGIN_VENDOR_REQUEST",$="LOGIN_VENDOR_SUCCESS",X="LOGIN_VENDOR_FAIL",Z="REGISTER_VENDOR_REQUEST",ee="REGISTER_VENDOR_SUCCESS",te="REGISTER_VENDOR_FAIL",ce="LOAD_VENDOR_REQUEST",ae="LOAD_VENDOR_SUCCESS",re="LOAD_VENDOR_FAIL",se="UPDATE_VENDOR_PROFILE_REQUEST",ne="UPDATE_VENDOR_PROFILE_SUCCESS",oe="UPDATE_VENDOR_PROFILE_FAIL",le="UPDATE_VENDOR_PROFILE_RESET",ie="LOGOUT_VENDOR_SUCCESS",de="LOGOUT_VENDOR_FAIL",je="ALL_VENDORS_REQUEST",ue="ALL_VENDORS_SUCCESS",be="ALL_VENDORS_FAIL",me="CLEAR_ERRORS",pe=function(){return function(){var e=Object(i.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ce}),e.next=4,O.a.get("/api/v1/vendor");case 4:c=e.sent,a=c.data,t({type:ae,payload:a.vendor}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:re,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},Oe=function(e){e({type:me})},he=c(1),xe=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(d.a)(c,2),s=a[0],n=a[1];return Object(he.jsx)("form",{onSubmit:function(e){e.preventDefault(),s.trim()?t.push("/search/".concat(s)):t.push("/")},children:Object(he.jsxs)("div",{className:"input-group",children:[Object(he.jsx)("input",{type:"text",id:"search_field",className:"form-control",placeholder:"Enter Product Name ...",onChange:function(e){return n(e.target.value)}}),Object(he.jsx)("div",{className:"input-group-append",children:Object(he.jsx)("button",{id:"search_btn",className:"btn",children:Object(he.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})})]})})},fe=(c(152),c(153),function(){var e=Object(m.d)(),t=Object(b.b)(),c=Object(b.c)((function(e){return e.auth})),a=c.user,s=(c.loading,Object(b.c)((function(e){return e.vendor}))),n=s.vendor,o=(s.loadingg,Object(b.c)((function(e){return e.cart})).cartItems),d=function(){t(function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("cartItems"),localStorage.removeItem("shoppingInfo"),t({type:H});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/api/v1/logoutuser");case 3:t({type:w}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:E,payload:e.t0.response.data.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),t(function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/api/v1/logoutvendor");case 3:t({type:ie}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:de,payload:e.t0.response.data.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),e.success("Logged out successfully")};return Object(he.jsx)(r.Fragment,{children:Object(he.jsxs)("nav",{className:"navbar row",children:[Object(he.jsx)("div",{className:"col-12 col-md-3",children:Object(he.jsx)("div",{className:"navbar-brand",children:Object(he.jsx)(j.b,{to:"/",children:Object(he.jsx)("img",{className:"image",src:"/images/logo1.png"})})})}),Object(he.jsx)("div",{className:"col-12 col-md-6 mt-2 mt-md-0  searchbar",children:Object(he.jsx)(u.b,{render:function(e){var t=e.history;return Object(he.jsx)(xe,{history:t})}})}),Object(he.jsxs)("div",{className:"col-12 col-md-3 mt-4 mt-md-0  text-center",children:[Object(he.jsx)(j.b,{to:"/pcbuildd",className:"btn ml-1",id:"login_btn",children:"Build Pc"}),Object(he.jsxs)(j.b,{to:"/cart",style:{textDecoration:"none"},children:[Object(he.jsx)("span",{id:"cart",className:"ml-8",children:"Cart"}),Object(he.jsxs)("span",{className:"ml-1",id:"cart_count",children:[" ",o.length]})]}),a?Object(he.jsxs)("div",{className:"ml-3 dropdown d-inline",children:[Object(he.jsxs)(j.b,{to:"",className:" btn dropdown-toggle mr-4 text-white",type:"button",id:"dropDownMenuLink","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(he.jsx)("figure",{className:"avatar avatar-nav",children:Object(he.jsx)("img",{src:a.avatar&&a.avatar.url,alt:a&&a.name,className:"rounded-circle"})}),Object(he.jsx)("span",{children:a&&a.name})]}),Object(he.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenuLink",children:[Object(he.jsx)(j.b,{className:"dropdown-item",to:"/orders/user",children:"Orders"}),Object(he.jsx)(j.b,{className:"dropdown-item",to:"/user",children:"Profile"}),Object(he.jsx)(j.b,{className:"dropdown-item text-danger",to:"/",onClick:d,children:"logout"})]})]}):!n&&Object(he.jsx)(j.b,{to:"/login",className:"btn ml-4",id:"login_btn",children:"Login"}),n?Object(he.jsxs)("div",{className:"ml-3 dropdown d-inline",children:[Object(he.jsxs)(j.b,{to:"",className:" btn dropdown-toggle mr-4 text-white",type:"button",id:"dropDownMenuLink","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(he.jsx)("figure",{className:"avatar avatar-nav",children:Object(he.jsx)("img",{src:n.avatar&&n.avatar.url,alt:n&&n.name,className:"rounded-circle"})}),Object(he.jsx)("span",{children:n&&n.vendorname})]}),Object(he.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenuLink",children:[n&&"vendor"!==n.role?Object(he.jsx)(j.b,{className:"dropdown-item",to:"orders/user",children:"orders"}):Object(he.jsxs)(j.b,{className:"dropdown-item",to:"/dashboard",children:[" ","Dashboard"," "]}),Object(he.jsx)(j.b,{className:"dropdown-item",to:"/vendor",children:"Profile"}),Object(he.jsx)(j.b,{className:"dropdown-item text-danger",to:"/",onClick:d,children:"logout"})]})]},n):!a&&Object(he.jsx)(j.b,{to:"/loginvendor",className:"btn mr-4",id:"login_btn",children:"Vendor Login"})]})]})})}),ve=function(){return Object(he.jsx)("div",{children:Object(he.jsx)("footer",{className:"py-1",children:Object(he.jsx)("p",{className:"text-center mt-1",children:"Final Year Project - 2021-2022, All Rights Reserved"})})})},ge=c(103),ye=function(e){var t=e.title;return Object(he.jsx)(ge.a,{children:Object(he.jsxs)("title",{children:[" ","".concat(t," - Project")," "]})})},Ne=function(e){var t=e.product,c=e.col;return Object(he.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-".concat(c," my-3"),children:Object(he.jsxs)("div",{className:"card p-3 rounded",children:[Object(he.jsx)("img",{className:"card-img-top mx-auto",src:t.images[0].url}),Object(he.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(he.jsx)("h5",{className:"card-title",children:Object(he.jsx)(j.b,{to:"/product/".concat(t._id),children:t.name})}),Object(he.jsxs)("div",{className:"ratings mt-auto",children:[Object(he.jsx)("div",{className:"rating-outer",children:Object(he.jsx)("div",{className:"rating-inner"})}),Object(he.jsxs)("span",{id:"no_of_reviews",children:["(",t.numOfReviews," Reviews)"]})]}),Object(he.jsxs)("p",{className:"card-text",children:[t.price," Rs"]}),Object(he.jsx)(j.b,{to:"/product/".concat(t._id),id:"view_btn",className:"btn btn-block",children:"View Details"})]})]})})},Se=function(){return Object(he.jsx)("div",{className:"loader"})},_e=c(106),we=c.n(_e),Ee="ALL_PRODUCTS_REQUEST",Ce="ALL_PRODUCTS_SUCCESS",Re="ALL_PRODUCTS_FAIL",Pe="NEW_PRODUCT_REQUEST",Ae="NEW_PRODUCT_SUCCESS",Fe="NEW_PRODUCT_FAIL",De="NEW_PRODUCT_RESET",Ie="DELETE_PRODUCT_REQUEST",ke="DELETE_PRODUCT_SUCCESS",Te="DELETE_PRODUCT_FAIL",Ue="DELETE_PRODUCT_RESET",Le="UPDATE_PRODUCT_REQUEST",Ve="UPDATE_PRODUCT_SUCCESS",Me="UPDATE_PRODUCT_FAIL",Ge="UPDATE_PRODUCT_RESET",We="ADMIN_PRODUCTS_REQUEST",Je="ADMIN_PRODUCTS_SUCCESS",Qe="ADMIN_PRODUCTS_FAIL",qe="PRODUCT_DETAILS_REQUEST",Be="PRODUCT_DETAILS_SUCCESS",Ye="PRODUCT_DETAILS_FAIL",He="SELECT_ALL_PRODUCT_REQUEST",ze="SELECT_ALL_PRODUCT_SUCCESS",Ke="SELECT_ALL_PRODUCT_FAIL",$e="NEW_REVIEW_REQUEST",Xe="NEW_REVIEW_SUCCESS",Ze="NEW_REVIEW_RESET",et="NEW_REVIEW_FAIL",tt="CLEAR_ERRORS",ct=function(e){return function(){var t=Object(i.a)(l.a.mark((function t(c){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:qe}),t.next=4,O.a.get("/api/v1/product/".concat(e));case 4:a=t.sent,r=a.data,c({type:Be,payload:r.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Ye,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},at=function(){return function(){var e=Object(i.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:We}),e.next=4,O.a.get("/api/v1/admin/products");case 4:c=e.sent,a=c.data,t({type:Je,payload:a.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Qe,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},rt=function(e){e({type:tt})},st=c(68),nt=(c(229),(0,st.a.createSliderWithTooltip)(st.a.Range)),ot=function(e){var t=e.match,c=Object(r.useState)(1),a=Object(d.a)(c,2),s=a[0],n=a[1],o=Object(r.useState)([1,1e5]),j=Object(d.a)(o,2),u=j[0],p=j[1],h=Object(r.useState)(""),x=Object(d.a)(h,2),f=x[0],v=x[1],g=Object(m.d)(),y=Object(b.b)(),N=Object(b.c)((function(e){return e.products})),S=N.loading,_=N.products,w=N.error,E=N.productsCount,C=N.resPerPage,R=N.filteredProductCount,P=(Object(b.c)((function(e){return e.allVendors})).vendors,t.params.keyword);Object(r.useEffect)((function(){if(w)return g.success("success"),g.error(w);y(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return function(){var r=Object(i.a)(l.a.mark((function r(s){var n,o,i;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s({type:Ee}),n="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0]),a&&(n="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&category=").concat(a)),r.next=6,O.a.get(n);case 6:o=r.sent,i=o.data,s({type:Ce,payload:i}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),s({type:Re,payload:r.t0.response.data.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(P,s,u,f))}),[y,g,w,P,s,u,f]);var A=E;return P&&(A=R),Object(he.jsxs)(r.Fragment,{children:[S?Object(he.jsx)(Se,{}):null,Object(he.jsx)(ye,{title:"buy best product online"}),Object(he.jsx)("h1",{id:"products_heading",children:"Latest Products"}),Object(he.jsx)("section",{id:"products",class:"container mt-5",children:Object(he.jsx)("div",{className:"row",children:P?Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)("div",{className:"col-6 col-md-3 mt-12 mb-12 ",children:Object(he.jsxs)("div",{className:"px-5",children:[Object(he.jsx)(nt,{marks:{1:"Rs 1",1e5:"Rs 100000"},min:1,max:1e5,defaultValue:[1,1e5],tipFormatter:function(e){return"Rs ".concat(e)},tipProps:{placement:"top",visible:!0},value:u,onChange:function(e){return p(e)}}),Object(he.jsx)("hr",{className:"my-5"})," ",Object(he.jsxs)("div",{className:"mt-5",children:[Object(he.jsx)("h4",{className:"mb-3",children:"Categories"}),Object(he.jsx)("ul",{className:"pl-0",children:["Electronics","Laptops","Mobiles","Computers","Accessories","MotherBoards","Processors","GraphicCards","Ram","HardDisks","SSD","KeyBoards","Mouse","Headphones","Cpu","PowerSupply","Case","Monitor"].map((function(e){return Object(he.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return v(e)},children:e},e)}))})]})]})}),Object(he.jsx)("div",{className:"col-6 col-md-9",children:Object(he.jsx)("div",{className:"row",children:_&&_.map((function(e){return Object(he.jsx)(Ne,{product:e,col:4},e._id)}))})})]}):_&&_.map((function(e){return Object(he.jsx)(Ne,{product:e,col:3},e._id)}))})}),C<A&&Object(he.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(he.jsx)(we.a,{activePage:s,itemsCountPerPage:C,totalItemsCount:E,onChange:function(e){n(e)},nextPageText:"Next",prevPageText:"Prev",firstPageText:"First",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link"})})]})},lt=c(262),it=function(e){var t=e.reviews;return Object(he.jsxs)("div",{class:"reviews w-75",children:[Object(he.jsx)("h3",{children:"Other's Reviews:"}),Object(he.jsx)("hr",{}),t&&t.map((function(e){return Object(he.jsxs)("div",{class:"review-card my-3",children:[Object(he.jsx)("div",{class:"rating-outer",children:Object(he.jsx)("div",{class:"rating-inner",style:{width:"".concat(e.rating/5*100,"%")}})}),Object(he.jsxs)("p",{class:"review_user",children:["by ",e.name]}),Object(he.jsx)("p",{class:"review_comment",children:e.comment}),Object(he.jsx)("hr",{})]},e._id)}))]})},dt=function(e){var t=e.match,c=Object(r.useState)(1),a=Object(d.a)(c,2),s=a[0],n=a[1],o=Object(r.useState)(0),j=Object(d.a)(o,2),u=j[0],p=j[1],h=Object(r.useState)(""),x=Object(d.a)(h,2),f=x[0],v=x[1],g=Object(b.b)(),y=Object(m.d)(),N=Object(b.c)((function(e){return e.productDetails})),S=N.loading,_=N.error,w=N.product,E=Object(b.c)((function(e){return e.newReview})),C=E.error,R=E.success,P=Object(b.c)((function(e){return e.auth})).user;Object(r.useEffect)((function(){g(ct(t.params.id)),_&&(y.error(_),g(rt)),C&&(y.error(C),g(rt())),R&&(y.success(R),g({type:Ze}))}),[g,y,_,C,t.params.id,R]);return Object(he.jsx)(r.Fragment,{children:S?Object(he.jsx)(Se,{}):Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:w.name}),Object(he.jsxs)("div",{className:"row f-flex justify-content-around",children:[Object(he.jsx)("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image",children:Object(he.jsx)(lt.a,{pause:"hover",children:w.images&&w.images.map((function(e){return Object(he.jsx)(lt.a.Item,{children:Object(he.jsx)("img",{className:"d-block w-100",src:e.url,alt:w.title})},e.public_id)}))})}),Object(he.jsxs)("div",{className:"col-12 col-lg-5 mt-5",children:[Object(he.jsx)("h3",{children:w.name}),Object(he.jsxs)("p",{id:"product_id",children:["Product # ",w._id," "]}),Object(he.jsx)("hr",{}),Object(he.jsx)("div",{className:"rating-outer",children:Object(he.jsx)("div",{className:"rating-inner"})}),Object(he.jsxs)("span",{id:"no_of_reviews",children:["(",w.numOfReviews,"Reviews)"]}),Object(he.jsx)("hr",{}),Object(he.jsx)("p",{id:"product_price",children:w.price}),Object(he.jsxs)("div",{className:"stockCounter d-inline",children:[Object(he.jsx)("span",{className:"btn btn-danger minus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber<=1)){var t=e.valueAsNumber-1;n(t)}},children:"-"}),Object(he.jsx)("input",{type:"number",className:"form-control count d-inline",value:s,readOnly:!0}),Object(he.jsx)("span",{className:"btn btn-primary plus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber>=w.stock)){var t=e.valueAsNumber+1;n(t)}},children:"+"})]}),Object(he.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",onClick:function(){g(z(t.params.id,s)),y.success("Item added to cart")},children:"Add to Cart"}),Object(he.jsx)("hr",{}),Object(he.jsxs)("p",{children:["Status:"," ",Object(he.jsx)("span",{id:"stock_status",className:w.stock>0?"greenColor":"redColor",children:w.stock>0?"In Stock":"Out of Stock"})]}),Object(he.jsx)("hr",{}),Object(he.jsx)("h4",{className:"mt-2",children:"Description:"}),Object(he.jsx)("p",{children:w.description}),Object(he.jsxs)("p",{id:"product_seller mb-3",children:["Sold by: ",Object(he.jsx)("strong",{children:w.vendor})]}),P?Object(he.jsx)("button",{id:"review_btn",type:"button",className:"btn btn-primary mt-4","data-bs-toggle":"modal","data-bs-target":"#ratingModal",onClick:function(){var e=document.querySelectorAll(".star");function t(t){var c=this;e.forEach((function(e,a){"click"===t.type&&(a<c.starValue?(e.classList.add("orange"),p(c.starValue)):e.classList.remove("orange")),"mouseover"===t.type&&(a<c.starValue?e.classList.add("yellow"):e.classList.remove("yellow")),"mouseout"===t.type&&e.classList.remove("yellow")}))}e.forEach((function(e,c){e.starValue=c+1,["click","mouseover","mouseout"].forEach((function(c){e.addEventListener(c,t)}))}))},children:"Submit Your Review"}):Object(he.jsx)("div",{className:"alert alert-danger mt-5",type:"alert",children:"Login to post your review."}),Object(he.jsx)("div",{className:"row mt-2 mb-5",children:Object(he.jsx)("div",{className:"rating w-50",children:Object(he.jsx)("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true",children:Object(he.jsx)("div",{className:"modal-dialog",role:"document",children:Object(he.jsxs)("div",{className:"modal-content",children:[Object(he.jsxs)("div",{className:"modal-header",children:[Object(he.jsx)("h5",{className:"modal-title",id:"ratingModalLabel",children:"Submit Review"}),Object(he.jsx)("button",{type:"button",className:"close","data-bs-dismiss":"modal","aria-label":"Close",children:Object(he.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(he.jsxs)("div",{className:"modal-body",children:[Object(he.jsxs)("ul",{className:"stars",children:[Object(he.jsx)("li",{className:"star",children:Object(he.jsx)("i",{className:"fa fa-star"})}),Object(he.jsx)("li",{className:"star",children:Object(he.jsx)("i",{className:"fa fa-star"})}),Object(he.jsx)("li",{className:"star",children:Object(he.jsx)("i",{className:"fa fa-star"})}),Object(he.jsx)("li",{className:"star",children:Object(he.jsx)("i",{className:"fa fa-star"})}),Object(he.jsx)("li",{className:"star",children:Object(he.jsx)("i",{className:"fa fa-star"})})]}),Object(he.jsx)("textarea",{name:"review",id:"review",className:"form-control mt-3",value:f,onChange:function(e){return v(e.target.value)}}),Object(he.jsx)("button",{className:"btn my-3 float-right review-btn px-4 text-white",onClick:function(){var e,c=new FormData;c.set("rating",u),c.set("comment",f),c.set("productId",t.params.id),g((e=c,function(){var t=Object(i.a)(l.a.mark((function t(c){var a,r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:$e}),a={headers:{"Content-Type":"application/json"}},t.next=5,O.a.put("/api/v1/review",e,a);case 5:r=t.sent,s=r.data,c({type:Xe,payload:s.success}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:et,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()))},"data-bs-dismiss":"modal","aria-label":"Close",children:"Submit"})]})]})})})})})]})]}),w.reviews&&w.reviews.length>0&&Object(he.jsx)(it,{reviews:w.reviews})]})})},jt=function(e){var t=e.history,c=e.location,a=Object(r.useState)(""),s=Object(d.a)(a,2),n=s[0],o=s[1],u=Object(r.useState)(""),p=Object(d.a)(u,2),v=p[0],g=p[1],y=Object(m.d)(),N=Object(b.b)(),S=Object(b.c)((function(e){return e.auth})),_=S.isAuthenticatedUser,w=S.error,E=S.loading,C=c.search?c.search.split("=")[1]:"/";Object(r.useEffect)((function(){_&&(t.push(C),y.success("You are now logged in")),w&&(y.error(w),N(Q))}),[N,y,_,w,t]);return Object(he.jsx)(r.Fragment,{children:E?Object(he.jsx)(Se,{}):Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Login"}),Object(he.jsx)("div",{className:"row wrapper",children:Object(he.jsx)("div",{className:"col-10 col-lg-5",children:Object(he.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),N(function(e,t){return function(){var c=Object(i.a)(l.a.mark((function c(a){var r,s,n;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:h}),r={headers:{"Content-Type":"application/json"}},c.next=5,O.a.post("/api/v1/loginuser",{email:e,password:t},r);case 5:s=c.sent,n=s.data,a({type:x,payload:n.user}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),a({type:f,payload:c.t0.response.data.message});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(n,v))},children:[Object(he.jsx)("h1",{className:"mb-3",children:"Login"}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(he.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(he.jsxs)("d",{iv:!0,className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(he.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:v,onChange:function(e){return g(e.target.value)}})]}),Object(he.jsx)(j.b,{to:"/userpassword/forgot",className:"float-right mb-4",children:"Forgot Password?"}),Object(he.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",children:"LOGIN"}),Object(he.jsx)(j.b,{to:"/register",className:"float-right mt-3",children:"New User?"})]})})})]})})},ut=c(33),bt=function(e){var t=e.history,c=(e.location,Object(r.useState)({name:"",email:"",password:""})),s=Object(d.a)(c,2),n=s[0],o=s[1],j=n.name,u=n.email,p=n.password,h=Object(r.useState)(""),x=Object(d.a)(h,2),f=x[0],N=x[1],S=Object(r.useState)("/images/default_avatar.jpg"),_=Object(d.a)(S,2),w=_[0],E=_[1],C=Object(m.d)(),R=Object(b.b)(),P=Object(b.c)((function(e){return e.auth})),A=P.isAuthenticatedUser,F=P.error,D=P.loading,I=t.location.search?t.location.search.split("=")[1]:"/";Object(r.useEffect)((function(){A&&(t.push(I),C.success("You are now logged in")),F&&(C.error(F),R(Q))}),[R,C,A,F,t]);var k=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&(E(t.result),N(t.result))},t.readAsDataURL(e.target.files[0])}else o(Object(a.a)(Object(a.a)({},n),{},Object(ut.a)({},e.target.name,e.target.value)))};return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Register User"}),Object(he.jsx)("div",{className:"row wrapper",children:Object(he.jsx)("div",{className:"col-10 col-lg-5",children:Object(he.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",j),c.set("email",u),c.set("password",p),c.set("avatar",f),R((t=c,function(){var e=Object(i.a)(l.a.mark((function e(c){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:v}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,O.a.post("/api/v1/registeruser",t,a);case 5:r=e.sent,s=r.data,c({type:g,payload:s.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:y,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(he.jsx)("h1",{className:"mb-3",children:"Register User"}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(he.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:j,onChange:k})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(he.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:u,onChange:k})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(he.jsx)("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:p,onChange:k})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(he.jsxs)("div",{className:"d-flex align-items-center",children:[Object(he.jsx)("div",{children:Object(he.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(he.jsx)("img",{src:w,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(he.jsxs)("div",{className:"custom-file",children:[Object(he.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"images/*",onChange:k}),Object(he.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(he.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",disabled:!!D,children:"REGISTER"})]})})})]})},mt=function(){var e=Object(b.c)((function(e){return e.auth})),t=e.user,c=e.loading;return Object(he.jsx)("div",{children:Object(he.jsx)(r.Fragment,{children:c?Object(he.jsx)(Se,{}):Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Your profile"}),Object(he.jsx)("h2",{className:"mt-5 ml-5",children:"My Profile"}),Object(he.jsxs)("div",{className:"row justify-content-around mt-5 user-info",children:[Object(he.jsxs)("div",{className:"col-12 col-md-3",children:[Object(he.jsx)("figure",{className:"avatar avatar-profile",children:Object(he.jsx)("img",{className:"rounded-circle img-fluid",src:t.avatar.url,alt:t.name})}),Object(he.jsx)(j.b,{to:"/user/update",id:"edit_profile",className:"btn btn-primary btn-block my-5",children:"Edit Profile"})]}),Object(he.jsxs)("div",{className:"col-12 col-md-5",children:[Object(he.jsx)("h4",{children:"Full Name"}),Object(he.jsx)("p",{children:t.name}),Object(he.jsx)("h4",{children:"Email Address"}),Object(he.jsx)("p",{children:t.email}),Object(he.jsx)("h4",{children:"Joined On"}),Object(he.jsx)("p",{children:String(t.createdAt).substring(0,10)}),Object(he.jsx)(j.b,{to:"/orders/user",className:"btn btn-danger btn-block mt-5",children:"My Orders"}),Object(he.jsx)(j.b,{to:"/password/update",className:"btn btn-primary btn-block mt-3",children:"Change Password"})]})]})]})})})},pt=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(d.a)(c,2),s=a[0],n=a[1],o=Object(r.useState)(""),j=Object(d.a)(o,2),u=j[0],p=j[1],h=Object(r.useState)(""),x=Object(d.a)(h,2),f=x[0],v=x[1],g=Object(r.useState)("/images/default_avatar.jpg"),y=Object(d.a)(g,2),N=y[0],S=y[1],_=Object(m.d)(),w=Object(b.b)(),E=Object(b.c)((function(e){return e.auth})).user,F=Object(b.c)((function(e){return e.user})),D=F.error,I=F.isUpdated,k=F.loading;Object(r.useEffect)((function(){E&&(n(E.name),p(E.email),S(E.avatar.url)),D&&(_.error(D),w(Q)),I&&(_.success("User updated successfully"),w(J()),t.push("/user"),w({type:A}))}),[w,_,D,t,I]);return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Update Profile"}),Object(he.jsx)("div",{className:"row wrapper",children:Object(he.jsx)("div",{className:"col-10 col-lg-5",children:Object(he.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("name",s),c.set("email",u),c.set("avatar",f),w((t=c,function(){var e=Object(i.a)(l.a.mark((function e(c){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:C}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,O.a.put("/api/v1/user/update",t,a);case 5:r=e.sent,s=r.data,c({type:R,payload:s.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:P,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(he.jsx)("h1",{className:"mt-2 mb-5",children:"Update Profile"}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(he.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(he.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(he.jsxs)("div",{className:"d-flex align-items-center",children:[Object(he.jsx)("div",{children:Object(he.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(he.jsx)("img",{src:N,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(he.jsxs)("div",{className:"custom-file",children:[Object(he.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"image/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(S(t.result),v(t.result))},t.readAsDataURL(e.target.files[0])}}),Object(he.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(he.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!k,children:"Update"})]})})})]})},Ot=function(e){var t=e.history,c=e.location,a=Object(r.useState)(""),s=Object(d.a)(a,2),n=s[0],o=s[1],j=Object(r.useState)(""),u=Object(d.a)(j,2),p=u[0],h=u[1],x=Object(m.d)(),f=Object(b.b)(),v=Object(b.c)((function(e){return e.user})),g=v.error,y=v.isUpdated,N=v.loading,S=c.search?c.search.split("=")[1]:"/user";Object(r.useEffect)((function(){g&&(x.error(g),f(Q)),y&&(x.success("Password updated successfully"),t.push(S),f({type:I}))}),[f,x,g,t,y]);return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Change Password"}),Object(he.jsx)("div",{className:"row wrapper",children:Object(he.jsx)("div",{className:"col-10 col-lg-5",children:Object(he.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("oldPassword",n),c.set("password",p),f((t=c,function(){var e=Object(i.a)(l.a.mark((function e(c){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:F}),a={headers:{"Content-Type":"application/json"}},e.next=5,O.a.put("/api/v1/password/update",t,a);case 5:r=e.sent,s=r.data,c({type:D,payload:s.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:k,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(he.jsx)("h1",{className:"mt-2 mb-5",children:"Update Password"}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{for:"old_password_field",children:"Old Password"}),Object(he.jsx)("input",{type:"password",id:"old_password_field",className:"form-control",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{for:"new_password_field",children:"New Password"}),Object(he.jsx)("input",{type:"password",id:"new_password_field",className:"form-control",value:p,onChange:function(e){return h(e.target.value)}})]}),Object(he.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!N,children:"Update Password"})]})})})]})},ht=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],s=Object(m.d)(),n=Object(b.b)(),o=Object(b.c)((function(e){return e.forgotPassword})),j=o.error,u=o.loading,p=o.message;Object(r.useEffect)((function(){j&&(s.error(j),n(Q)),p&&s.success(p)}),[n,s,j,p]);return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Forgot Password"}),Object(he.jsx)("div",{className:"row wrapper",children:Object(he.jsx)("div",{className:"col-10 col-lg-5",children:Object(he.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("email",c),n(function(e){return function(){var t=Object(i.a)(l.a.mark((function t(c){var a,r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:T}),a={headers:{"Content-Type":"application/json"}},t.next=5,O.a.post("/api/v1/userpassword/forgot",e,a);case 5:r=t.sent,s=r.data,c({type:U,payload:s.message}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:L,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(he.jsx)("h1",{className:"mb-3",children:"Forgot Password"}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Enter Email"}),Object(he.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(he.jsx)("button",{id:"forgot_password_button",type:"submit",className:"btn btn-block py-3",disabled:!!u,children:"Send Email"})]})})})]})},xt=function(e){var t=e.history,c=e.match,a=Object(r.useState)(""),s=Object(d.a)(a,2),n=s[0],o=s[1],j=Object(r.useState)(""),u=Object(d.a)(j,2),p=u[0],h=u[1],x=Object(m.d)(),f=Object(b.b)(),v=Object(b.c)((function(e){return e.forgotPassword})),g=v.error,y=v.success;Object(r.useEffect)((function(){g&&(x.error(g),f(Q)),y&&(x.success("Password updated successfully"),t.push("/login"))}),[f,x,g,y,t]);return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"New Password Reset"}),Object(he.jsx)("div",{className:"row wrapper",children:Object(he.jsx)("div",{className:"col-10 col-lg-5",children:Object(he.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,a,r=new FormData;r.set("password",n),r.set("confirmPassword",p),f((t=c.params.token,a=r,function(){var e=Object(i.a)(l.a.mark((function e(c){var r,s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:V}),r={headers:{"Content-Type":"application/json"}},e.next=5,O.a.put("/api/v1/userpassword/reset/".concat(t),a,r);case 5:s=e.sent,n=s.data,c({type:M,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:G,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(he.jsx)("h1",{className:"mb-3",children:"New Password"}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(he.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"confirm_password_field",children:"Confirm Password"}),Object(he.jsx)("input",{type:"password",id:"confirm_password_field",className:"form-control",value:p,onChange:function(e){return h(e.target.value)}})]}),Object(he.jsx)("button",{id:"new_password_button",type:"submit",className:"btn btn-block py-3",children:"Set Password"})]})})})]})},ft=function(e){var t=e.history,c=e.location,a=Object(r.useState)(""),s=Object(d.a)(a,2),n=s[0],o=s[1],u=Object(r.useState)(""),p=Object(d.a)(u,2),h=p[0],x=p[1],f=Object(m.d)(),v=Object(b.b)(),g=Object(b.c)((function(e){return e.vendor})),y=g.isAuthenticatedVendor,N=g.error,S=g.loading;c.search&&c.search.split("=")[1];Object(r.useEffect)((function(){y&&window.location.replace("/"),N&&(f.error(N),v(Oe))}),[v,f,y,N,t]);return Object(he.jsx)(r.Fragment,{children:S?Object(he.jsx)(Se,{}):Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Vendor Login"}),Object(he.jsx)("div",{className:"row wrapper",children:Object(he.jsx)("div",{className:"col-10 col-lg-5",children:Object(he.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),v(function(e,t){return function(){var c=Object(i.a)(l.a.mark((function c(a){var r,s,n;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:K}),r={headers:{"Content-Type":"application/json"}},c.next=5,O.a.post("/api/v1/loginvendor",{vendoremail:e,password:t},r);case 5:s=c.sent,n=s.data,a({type:$,payload:n.vendor}),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(0),a({type:X,payload:c.t0.response.data.message});case 13:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(n,h))},children:[Object(he.jsx)("h1",{className:"mb-3",children:"Vendor Login"}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Vendor Email"}),Object(he.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(he.jsxs)("d",{iv:!0,className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"password_field",children:"Vendor Password"}),Object(he.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:h,onChange:function(e){return x(e.target.value)}})]}),Object(he.jsx)(j.b,{to:"/vendorpassword/forgot",className:"float-right mb-4",children:"Forgot Password?"}),Object(he.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",children:"LOGIN"}),Object(he.jsx)(j.b,{to:"/registervendor",className:"float-right mt-3",children:"New Vendor?"})]})})})]})})},vt=function(e){var t=e.history,c=(e.location,Object(r.useState)({vendorname:"",shopname:"",shopaddress:"",vendorcontactno:"",shopcontactno:"",vendoremail:"",password:""})),s=Object(d.a)(c,2),n=s[0],o=s[1],j=n.vendorname,u=n.shopname,p=n.shopaddress,h=n.vendorcontactno,x=n.shopcontactno,f=n.vendoremail,v=n.password,g=Object(r.useState)(""),y=Object(d.a)(g,2),N=y[0],S=y[1],_=Object(r.useState)("/images/default_avatar.jpg"),w=Object(d.a)(_,2),E=w[0],C=w[1],R=Object(m.d)(),P=Object(b.b)(),A=Object(b.c)((function(e){return e.vendor})),F=A.isAuthenticatedVendor,D=A.error,I=A.loading,k=t.location.search?t.location.search.split("=")[1]:"/";Object(r.useEffect)((function(){F&&t.push(k),D&&(R.error(D),P(Oe))}),[P,R,F,D,t]);var T=function(e){if("avatar"===e.target.name){var t=new FileReader;t.onload=function(){2===t.readyState&&(C(t.result),S(t.result))},t.readAsDataURL(e.target.files[0])}else o(Object(a.a)(Object(a.a)({},n),{},Object(ut.a)({},e.target.name,e.target.value)))};return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Register Vendor"}),Object(he.jsx)("div",{className:"row wrapper",children:Object(he.jsx)("div",{className:"col-10 col-lg-5",children:Object(he.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("vendorname",j),c.set("shopname",u),c.set("shopaddress",p),c.set("vendorcontactno",h),c.set("shopcontactno",x),c.set("vendoremail",f),c.set("password",v),c.set("avatar",N),P((t=c,function(){var e=Object(i.a)(l.a.mark((function e(c){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Z}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,O.a.post("/api/v1/registervendor",t,a);case 5:r=e.sent,s=r.data,c({type:ee,payload:s.vendor}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:te,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(he.jsx)("h1",{className:"mb-3",children:"Register Vendor"}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Vendor Name"}),Object(he.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"vendorname",value:j,onChange:T})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Shop Name"}),Object(he.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"shopname",value:u,onChange:T})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Shop Address"}),Object(he.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"shopaddress",value:p,onChange:T})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Vendor Contact No"}),Object(he.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"vendorcontactno",value:h,onChange:T})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Shop Contact No"}),Object(he.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"shopcontactno",value:x,onChange:T})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Vendor Email"}),Object(he.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"vendoremail",value:f,onChange:T})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(he.jsx)("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:v,onChange:T})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(he.jsxs)("div",{className:"d-flex align-items-center",children:[Object(he.jsx)("div",{children:Object(he.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(he.jsx)("img",{src:E,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(he.jsxs)("div",{className:"custom-file",children:[Object(he.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"images/*",onChange:T}),Object(he.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(he.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",disabled:!!I,children:"REGISTER"})]})})})]})},gt=function(){var e=Object(b.c)((function(e){return e.vendor})),t=e.vendor,c=e.loadingg;return Object(he.jsx)("div",{children:Object(he.jsx)(r.Fragment,{children:c?Object(he.jsx)(Se,{}):Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Your profile"}),Object(he.jsx)("h2",{className:"mt-5 ml-5",children:"My Profile"}),Object(he.jsxs)("div",{className:"row justify-content-around mt-5 user-info",children:[Object(he.jsxs)("div",{className:"col-12 col-md-3",children:[Object(he.jsx)("figure",{className:"avatar avatar-profile",children:Object(he.jsx)("img",{className:"rounded-circle img-fluid",src:t.avatar.url,alt:t.name})}),Object(he.jsx)(j.b,{to:"/vendor/update",id:"edit_profile",className:"btn btn-primary btn-block my-5",children:"Edit Profile"})]}),Object(he.jsxs)("div",{className:"col-12 col-md-5",children:[Object(he.jsx)("h4",{children:"Vendor Name"}),Object(he.jsx)("p",{children:t.vendorname}),Object(he.jsx)("h4",{children:"Shop Name"}),Object(he.jsx)("p",{children:t.shopname}),Object(he.jsx)("h4",{children:"Shop Address"}),Object(he.jsx)("p",{children:t.shopname}),Object(he.jsx)("h4",{children:"Email Address"}),Object(he.jsx)("p",{children:t.shopaddress}),Object(he.jsx)("h4",{children:"Vendor Contact No"}),Object(he.jsx)("p",{children:t.vendorcontactno}),Object(he.jsx)("h4",{children:"Shop Contact No"}),Object(he.jsx)("p",{children:t.shopcontactno}),Object(he.jsx)("h4",{children:"Vendor Address"}),Object(he.jsx)("p",{children:t.vendor}),Object(he.jsx)("h4",{children:"Joined On"}),Object(he.jsx)("p",{children:String(t.createdAt).substring(0,10)}),"vendor"!==t.role&&Object(he.jsx)(j.b,{to:"/order/user",className:"btn btn-danger btn-block mt-5",children:"My Orders"}),Object(he.jsx)(j.b,{to:"/password/update",className:"btn btn-primary btn-block mt-3",children:"Change Password"})]})]})]})})})},yt=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(d.a)(c,2),s=a[0],n=a[1],o=Object(r.useState)(""),j=Object(d.a)(o,2),u=j[0],p=j[1],h=Object(r.useState)(""),x=Object(d.a)(h,2),f=x[0],v=x[1],g=Object(r.useState)(""),y=Object(d.a)(g,2),N=y[0],S=y[1],_=Object(r.useState)(""),w=Object(d.a)(_,2),E=w[0],C=w[1],R=Object(r.useState)(""),P=Object(d.a)(R,2),A=P[0],F=P[1],D=Object(r.useState)(""),I=Object(d.a)(D,2),k=I[0],T=I[1],U=Object(r.useState)("/images/default_avatar.jpg"),L=Object(d.a)(U,2),V=L[0],M=L[1],G=Object(m.d)(),W=Object(b.b)(),J=Object(b.c)((function(e){return e.vendor})).vendor,Q=Object(b.c)((function(e){return e.vendorr})),q=Q.error,B=Q.isUpdated,Y=Q.loading;Object(r.useEffect)((function(){J&&(n(J.vendorname),p(J.shopname),v(J.shopaddress),S(J.vendorcontactno),C(J.shopcontactno),F(J.vendoremail),M(J.avatar.url)),q&&(G.error(q),W(Oe),console.log("got it")),B&&(G.success("User updated successfully"),W(pe()),t.push("/vendor"),W({type:le}))}),[W,G,q,t,B]);return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Update Vendor Profile"}),Object(he.jsx)("div",{className:"row wrapper",children:Object(he.jsx)("div",{className:"col-10 col-lg-5",children:Object(he.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("vendorname",s),c.set("shopname",u),c.set("shopaddress",f),c.set("vendorcontactno",N),c.set("shopcontactno",E),c.set("vendoremail",A),c.set("avatar",k),W((t=c,function(){var e=Object(i.a)(l.a.mark((function e(c){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:se}),a={headers:{"Content-Type":"multipart/form-data"}},e.next=5,O.a.put("/api/v1/vendor/update",t,a);case 5:r=e.sent,s=r.data,c({type:ne,payload:s.vendor}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:oe,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(he.jsx)("h1",{className:"mt-2 mb-5",children:"Update Vendor Profile"}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Vendor Name"}),Object(he.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"vendorname",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Shop Name"}),Object(he.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"shopname",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Shop Address"}),Object(he.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"shopaddress",value:f,onChange:function(e){return v(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Vendor Contact No"}),Object(he.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"vendorcontactno",value:N,onChange:function(e){return S(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:"Shop Contact No"}),Object(he.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"shopcontactno",value:E,onChange:function(e){return C(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"email_field",children:" Vendor Email"}),Object(he.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"vendoremail",value:A,onChange:function(e){return F(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"avatar_upload",children:"Avatar"}),Object(he.jsxs)("div",{className:"d-flex align-items-center",children:[Object(he.jsx)("div",{children:Object(he.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(he.jsx)("img",{src:V,className:"rounded-circle",alt:"Avatar Preview"})})}),Object(he.jsxs)("div",{className:"custom-file",children:[Object(he.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"image/*",onChange:function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(M(t.result),T(t.result))},t.readAsDataURL(e.target.files[0])}}),Object(he.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Avatar"})]})]})]}),Object(he.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!Y,children:"Update"})]})})})]})},Nt=c(24),St=["isAdmin","component"],_t=function(e){e.isAdmin;var t=e.component,c=Object(Nt.a)(e,St),s=Object(b.c)((function(e){return e.auth})),n=s.isAuthenticatedUser,o=s.loading;s.user;return Object(he.jsx)(r.Fragment,{children:!1===o&&Object(he.jsx)(u.b,Object(a.a)(Object(a.a)({},c),{},{render:function(e){return!1===n?Object(he.jsx)(u.a,{to:"/login"}):Object(he.jsx)(t,Object(a.a)({},e))}}))})},wt=["isAdmin","component"],Et=function(e){var t=e.isAdmin,c=e.component,s=Object(Nt.a)(e,wt),n=Object(b.c)((function(e){return e.vendor})),o=n.isAuthenticatedVendor,l=n.loadingg,i=n.vendor;return Object(he.jsx)(r.Fragment,{children:!1===l&&Object(he.jsx)(u.b,Object(a.a)(Object(a.a)({},s),{},{render:function(e){return!1===o?Object(he.jsx)(u.a,{to:"/login"}):!0===t&&"admin"===i.role?Object(he.jsx)(u.a,{to:"/"}):Object(he.jsx)(c,Object(a.a)({},e))}}))})},Ct=c(26),Rt=c(113),Pt=(c(230),function(e){var t,c,s,n,o,u,m,p,h,x,f,v,g,y,N,S;Object(Rt.a)(e);var _=Object(b.b)(),w=Object(b.c)((function(e){return e.allVendors})).vendors,E=Object(b.c)((function(e){return e.allProducts})).products,C=Object(r.useState)([]),R=Object(d.a)(C,2),P=R[0],A=R[1],F=Object(r.useState)(0),D=Object(d.a)(F,2),I=D[0],k=D[1],T=Object(r.useState)({}),U=Object(d.a)(T,2),L=U[0],V=U[1],M=Object(r.useState)([]),G=Object(d.a)(M,2),W=G[0],J=G[1],Q=Object(r.useState)([]),q=Object(d.a)(Q,2),B=q[0],Y=q[1],H=Object(r.useState)([]),z=Object(d.a)(H,2),K=z[0],$=z[1],X=Object(r.useState)([]),Z=Object(d.a)(X,2),ee=Z[0],te=Z[1],ce=Object(r.useState)([]),ae=Object(d.a)(ce,2),re=ae[0],se=ae[1],ne=Object(r.useState)([]),oe=Object(d.a)(ne,2),le=oe[0],ie=oe[1],de=Object(r.useState)([]),je=Object(d.a)(de,2),ue=je[0],be=je[1],me=Object(r.useState)([]),pe=Object(d.a)(me,2),Oe=pe[0],xe=pe[1],fe=Object(r.useState)({}),ve=Object(d.a)(fe,2),ge=ve[0],ye=ve[1];Object(r.useEffect)((function(){_(function(){var e=Object(i.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:He}),e.next=4,O.a.get("/api/v1/admin/products");case 4:c=e.sent,a=c.data,t({type:ze,payload:a.products}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Ke,payload:"Error occured while loading products"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(r.useEffect)((function(){console.log("selected Vendor",L),Ne(),console.log(E);var e=E.filter((function(e){return(null===e||void 0===e?void 0:e.userId)===L}));A(Object(Ct.a)(e))}),[L]),Object(r.useEffect)((function(){var e=P.filter((function(e){return"cpu"===e.category.toLowerCase()})),t=P.filter((function(e){return"graphiccards"===e.category.toLowerCase()})),c=P.filter((function(e){return"motherboards"===e.category.toLowerCase()})),a=P.filter((function(e){return"ram"===e.category.toLowerCase()})),r=P.filter((function(e){return"harddisks"===e.category.toLowerCase()})),s=P.filter((function(e){return"powersupply"===e.category.toLowerCase()})),n=P.filter((function(e){return"case"===e.category.toLowerCase()})),o=P.filter((function(e){return"monitor"===e.category.toLowerCase()}));J(e),Y(t),$(c),te(a),se(r),ie(s),be(n),xe(o)}),[P]);var Ne=function(){ye({}),J([]),A([]),Y([]),$([]),te([]),se([]),ie([]),be([]),xe([])};return Object(r.useEffect)((function(){console.log("build changed",ge),Object.keys(ge).forEach((function(e){k(I+ge[e].price)}))}),[ge]),Object(he.jsx)(r.Fragment,{children:Object(he.jsxs)("div",{class:"container",children:[Object(he.jsx)("label",{children:"Choose a Store: "}),Object(he.jsxs)("select",{className:"combobox1",onChange:function(e){return V(e.target.value)},children:[Object(he.jsx)("option",{value:null,selected:!0,children:"Select a store"}),w.map((function(e){return Object(he.jsx)("option",{value:e._id,children:e.shopname},e._id)}))]}),Object(he.jsx)("div",{class:"row",children:Object(he.jsx)("div",{class:"col-12",children:Object(he.jsxs)("div",{class:"card",children:[Object(he.jsx)("div",{class:"card-body text-center",children:Object(he.jsx)("h5",{class:"card-title m-b-0",children:"System Builder"})}),Object(he.jsx)("div",{class:"table-responsive",children:Object(he.jsxs)("table",{class:"table",children:[Object(he.jsx)("thead",{class:"thead-light",children:Object(he.jsxs)("tr",{children:[Object(he.jsx)("th",{scope:"col",children:"Component"}),Object(he.jsx)("th",{scope:"col",children:"Select"}),Object(he.jsx)("th",{scope:"col",children:"Selection"}),Object(he.jsx)("th",{scope:"col",children:" Price "}),Object(he.jsx)("th",{scope:"col",children:"Reset"})]})}),Object(he.jsxs)("tbody",{class:"customtable",children:[Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:Object(he.jsx)("a",{children:" CPU "})}),Object(he.jsx)("td",{children:Object(he.jsxs)("select",{className:"combobox",onChange:function(e){return ye(Object(a.a)(Object(a.a)({},ge),{},{cpu:JSON.parse(e.target.value)}))},children:[Object(he.jsx)("option",{value:null,selected:!0,children:"Select a CPU"}),W.map((function(e){return Object(he.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})}),Object(he.jsx)("td",{children:null===ge||void 0===ge||null===(t=ge.cpu)||void 0===t?void 0:t.name}),Object(he.jsx)("td",{children:null===ge||void 0===ge||null===(c=ge.cpu)||void 0===c?void 0:c.price}),Object(he.jsxs)("td",{children:[" ",Object(he.jsx)("i",{class:"fa fa-trash","aria-hidden":"true",onClick:function(){return ye(Object(a.a)(Object(a.a)({},ge),{},{cpu:""}))}})," "]})]}),Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:"MOTHERBOARD"}),Object(he.jsx)("td",{children:Object(he.jsxs)("select",{className:"combobox",onChange:function(e){return ye(Object(a.a)(Object(a.a)({},ge),{},{motherBoards:JSON.parse(e.target.value)}))},children:[Object(he.jsx)("option",{value:null,selected:!0,children:"Select a Motherboard"}),K.map((function(e){return Object(he.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})}),Object(he.jsx)("td",{children:null===ge||void 0===ge||null===(s=ge.motherBoards)||void 0===s?void 0:s.name}),Object(he.jsx)("td",{children:null===ge||void 0===ge||null===(n=ge.motherBoards)||void 0===n?void 0:n.price}),Object(he.jsxs)("td",{children:[" ",Object(he.jsx)("i",{class:"fa fa-trash","aria-hidden":"true",onClick:function(){return ye(Object(a.a)(Object(a.a)({},ge),{},{motherBoards:""}))}})," "]})]}),Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:"RAM"}),Object(he.jsx)("td",{children:Object(he.jsxs)("select",{className:"combobox",onChange:function(e){return ye(Object(a.a)(Object(a.a)({},ge),{},{rams:JSON.parse(e.target.value)}))},children:[Object(he.jsx)("option",{value:null,selected:!0,children:"Select a Ram"}),ee.map((function(e){return Object(he.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})}),Object(he.jsx)("td",{children:null===ge||void 0===ge||null===(o=ge.rams)||void 0===o?void 0:o.name}),Object(he.jsx)("td",{children:null===ge||void 0===ge||null===(u=ge.rams)||void 0===u?void 0:u.price}),Object(he.jsxs)("td",{children:[" ",Object(he.jsx)("i",{class:"fa fa-trash","aria-hidden":"true",onClick:function(){return ye(Object(a.a)(Object(a.a)({},ge),{},{rams:""}))}})," "]})]}),Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:" STORAGE "}),Object(he.jsx)("td",{children:Object(he.jsxs)("select",{className:"combobox",onChange:function(e){return ye(Object(a.a)(Object(a.a)({},ge),{},{storages:JSON.parse(e.target.value)}))},children:[Object(he.jsx)("option",{value:null,selected:!0,children:"Select a Storage"}),re.map((function(e){return Object(he.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})}),Object(he.jsx)("td",{children:null===ge||void 0===ge||null===(m=ge.storages)||void 0===m?void 0:m.name}),Object(he.jsx)("td",{children:null===ge||void 0===ge||null===(p=ge.storages)||void 0===p?void 0:p.price}),Object(he.jsxs)("td",{children:[" ",Object(he.jsx)("i",{class:"fa fa-trash","aria-hidden":"true",onClick:function(){return ye(Object(a.a)(Object(a.a)({},ge),{},{storages:""}))}})," "]})]}),Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:" GRAPHIC CARD "}),Object(he.jsxs)("td",{children:[" ",Object(he.jsxs)("select",{className:"combobox",onChange:function(e){return ye(Object(a.a)(Object(a.a)({},ge),{},{graphiccards:JSON.parse(e.target.value)}))},children:[Object(he.jsx)("option",{value:null,selected:!0,children:"Select a GPU"}),B.map((function(e){return Object(he.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})]}),Object(he.jsx)("td",{children:null===ge||void 0===ge||null===(h=ge.graphiccards)||void 0===h?void 0:h.name}),Object(he.jsx)("td",{children:null===ge||void 0===ge||null===(x=ge.graphiccards)||void 0===x?void 0:x.price}),Object(he.jsxs)("td",{children:[" ",Object(he.jsx)("i",{class:"fa fa-trash","aria-hidden":"true",onClick:function(){return ye(Object(a.a)(Object(a.a)({},ge),{},{graphiccards:""}))}})," "]})]}),Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:"POWER SUPPLY"}),Object(he.jsx)("td",{children:Object(he.jsxs)("select",{className:"combobox",onChange:function(e){return ye(Object(a.a)(Object(a.a)({},ge),{},{powerSupplys:JSON.parse(e.target.value)}))},children:[Object(he.jsx)("option",{value:null,selected:!0,children:"Select a PowerSupply"}),le.map((function(e){return Object(he.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})}),Object(he.jsx)("td",{children:null===ge||void 0===ge||null===(f=ge.powerSupplys)||void 0===f?void 0:f.name}),Object(he.jsx)("td",{children:null===ge||void 0===ge||null===(v=ge.powerSupplys)||void 0===v?void 0:v.price}),Object(he.jsxs)("td",{children:[" ",Object(he.jsx)("i",{class:"fa fa-trash","aria-hidden":"true",onClick:function(){return ye(Object(a.a)(Object(a.a)({},ge),{},{powerSupplys:""}))}})," "]})]}),Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:"CASE"}),Object(he.jsx)("td",{children:Object(he.jsxs)("select",{className:"combobox",onChange:function(e){return ye(Object(a.a)(Object(a.a)({},ge),{},{cases:JSON.parse(e.target.value)}))},children:[Object(he.jsx)("option",{value:null,selected:!0,children:"Select a Casing"}),ue.map((function(e){return Object(he.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})}),Object(he.jsx)("td",{children:null===ge||void 0===ge||null===(g=ge.cases)||void 0===g?void 0:g.name}),Object(he.jsx)("td",{children:null===ge||void 0===ge||null===(y=ge.cases)||void 0===y?void 0:y.price}),Object(he.jsxs)("td",{children:[" ",Object(he.jsx)("i",{class:"fa fa-trash","aria-hidden":"true",onClick:function(){return ye(Object(a.a)(Object(a.a)({},ge),{},{cases:""}))}})," "]})]}),Object(he.jsxs)("tr",{children:[Object(he.jsx)("td",{children:" MONITOR "}),Object(he.jsx)("td",{children:Object(he.jsxs)("select",{className:"combobox",onChange:function(e){return ye(Object(a.a)(Object(a.a)({},ge),{},{monitors:JSON.parse(e.target.value)}))},children:[Object(he.jsx)("option",{value:null,selected:!0,children:"Select a Moniter"}),Oe.map((function(e){return Object(he.jsx)("option",{value:JSON.stringify(e),children:e.name},e._id)}))]})}),Object(he.jsx)("td",{children:null===ge||void 0===ge||null===(N=ge.monitors)||void 0===N?void 0:N.name}),Object(he.jsx)("td",{children:null===ge||void 0===ge||null===(S=ge.monitors)||void 0===S?void 0:S.price}),Object(he.jsxs)("td",{children:[" ",Object(he.jsx)("i",{class:"fa fa-trash","aria-hidden":"true",onClick:function(){return ye(Object(a.a)(Object(a.a)({},ge),{},{monitors:""}))}})," "]})]})]})]})}),Object(he.jsx)("br",{}),Object(he.jsx)("br",{}),Object(he.jsxs)("label",{class:"totalAmount",children:["Total Amount: ",I]}),Object(he.jsx)(j.b,{to:"/soon",children:Object(he.jsx)("button",{type:"button",className:"proceed",children:"Proceed"})}),Object(he.jsx)("br",{})]})})})]})})}),At=function(){return Object(he.jsx)("div",{className:"sidebar-wrapper",children:Object(he.jsx)("nav",{id:"sidebar",children:Object(he.jsxs)("ul",{className:"list-unstyled components",children:[Object(he.jsx)("li",{children:Object(he.jsxs)(j.b,{to:"/dashboard",children:[Object(he.jsx)("i",{className:"fa fa-tachometer"})," Dashboard"]})}),Object(he.jsxs)("li",{style:{position:"relative"},children:[Object(he.jsxs)("a",{href:"#productSubmenu","data-bs-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:[Object(he.jsx)("i",{className:"fa fa-product-hunt"})," Products"]}),Object(he.jsxs)("ul",{className:"collapse list-unstyled",id:"productSubmenu",children:[Object(he.jsx)("li",{children:Object(he.jsxs)(j.b,{to:"/admin/products",children:[Object(he.jsx)("i",{className:"fa fa-clipboard"})," All"]})}),Object(he.jsx)("li",{children:Object(he.jsxs)(j.b,{to:"/admin/product",children:[Object(he.jsx)("i",{className:"fa fa-plus"})," Create"]})})]})]}),Object(he.jsx)("li",{children:Object(he.jsxs)(j.b,{to:"/admin/orders",children:[Object(he.jsx)("i",{className:"fa fa-shopping-basket"})," Orders"]})}),Object(he.jsx)("li",{children:Object(he.jsxs)(j.b,{to:"/admin/users",children:[Object(he.jsx)("i",{className:"fa fa-users"})," Users"]})}),Object(he.jsx)("li",{children:Object(he.jsxs)(j.b,{to:"/admin/reviews",children:[Object(he.jsx)("i",{className:"fa fa-star"})," Reviews"]})})]})})})},Ft=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.vendor})).vendor,c=Object(b.c)((function(e){return e.products})).products,a=Object(r.useState)([]),s=Object(d.a)(a,2),n=s[0],o=s[1];Object(r.useEffect)((function(){var e=c.filter((function(e){return e.userId===t._id}));o(e)}),[c]);var l=0;return c.forEach((function(e){0===e.stock&&(l+=1)})),Object(r.useEffect)((function(){e(at())}),[e]),Object(he.jsx)(r.Fragment,{children:Object(he.jsxs)("div",{className:"row",children:[Object(he.jsx)("div",{className:" col-12 col-md-2",children:Object(he.jsx)(At,{})}),Object(he.jsxs)("div",{className:"col-12 col-md-10",children:[Object(he.jsx)("h1",{className:"my-4",children:"Dashboard"}),Object(he.jsx)("div",{className:"row pr-4",children:Object(he.jsx)("div",{className:"col-xl-12 col-sm-12 mb-3",children:Object(he.jsx)("div",{className:"card text-white bg-primary o-hidden h-100",children:Object(he.jsx)("div",{className:"card-body",children:Object(he.jsxs)("div",{className:"text-center card-font-size",children:["Total Amount",Object(he.jsx)("br",{})," ",Object(he.jsx)("b",{})]})})})})}),Object(he.jsxs)("div",{className:"row pr-4",children:[Object(he.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(he.jsxs)("div",{className:"card text-white bg-success o-hidden h-100",children:[Object(he.jsx)("div",{className:"card-body",children:Object(he.jsxs)("div",{className:"text-center card-font-size",children:["Products",Object(he.jsx)("br",{})," ",Object(he.jsx)("b",{children:n&&n.length})]})}),Object(he.jsxs)(j.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/products",children:[Object(he.jsx)("span",{className:"float-left",children:"View Details"}),Object(he.jsx)("span",{className:"float-right",children:Object(he.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(he.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(he.jsxs)("div",{className:"card text-white bg-danger o-hidden h-100",children:[Object(he.jsx)("div",{className:"card-body",children:Object(he.jsxs)("div",{className:"text-center card-font-size",children:["Orders",Object(he.jsx)("br",{})]})}),Object(he.jsxs)(j.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/orders",children:[Object(he.jsx)("span",{className:"float-left",children:"View Details"}),Object(he.jsx)("span",{className:"float-right",children:Object(he.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object(he.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object(he.jsx)("div",{className:"card text-white bg-warning o-hidden h-100",children:Object(he.jsx)("div",{className:"card-body",children:Object(he.jsxs)("div",{className:"text-center card-font-size",children:["Out of Stock",Object(he.jsx)("br",{})," ",Object(he.jsx)("b",{children:l})]})})})})]})]})]})})},Dt=c(36),It=function(e){var t=e.history,c=Object(m.d)(),a=Object(b.b)(),s=Object(b.c)((function(e){return e.products})),n=s.loading,o=s.error,u=s.products,p=Object(b.c)((function(e){return e.vendor})).vendor,h=Object(r.useState)([]),x=Object(d.a)(h,2),f=(x[0],x[1],Object(b.c)((function(e){return e.product}))),v=f.error,g=f.isDeleted;Object(r.useEffect)((function(){a(at()),o&&(c.error(o),a(rt)),v&&(c.error(v),a(rt)),g&&(c.success("Product deleted successfully"),t.push("/admin/products"),a({type:Ue}))}),[a,c,o,v,g,t]);var y=function(e){a(function(e){return function(){var t=Object(i.a)(l.a.mark((function t(c){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Ie}),t.next=4,O.a.delete("/api/v1/admin/product/".concat(e));case 4:a=t.sent,r=a.data,c({type:ke,payload:r.success}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Te,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"All Products"}),Object(he.jsxs)("div",{className:"row",children:[Object(he.jsx)("div",{className:"col-12 col-md-2",children:Object(he.jsx)(At,{})}),Object(he.jsx)("div",{className:"col-12 col-md-10",children:Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)("h1",{className:"my-5",children:"All Products"}),n?Object(he.jsx)(Se,{}):Object(he.jsx)(Dt.c,{data:function(){var e={columns:[{label:"ID",field:"id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Price",field:"price",sort:"asc"},{label:"Stock",field:"stock",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return u.forEach((function(t){t.userId===p._id&&e.rows.push({id:t._id,name:t.name,price:"".concat(t.price,"Rs"),stock:t.stock,actions:Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(j.b,{to:"/admin/product/".concat(t._id),className:"btn btn-primary py-1 px-2",children:Object(he.jsx)("i",{className:"fa fa-pencil"})}),Object(he.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:function(){return y(t._id)},children:Object(he.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})},kt=function(e){var t=e.history,c=Object(r.useState)(""),a=Object(d.a)(c,2),s=a[0],n=a[1],o=Object(r.useState)(""),j=Object(d.a)(o,2),u=j[0],p=j[1],h=Object(r.useState)(0),x=Object(d.a)(h,2),f=x[0],v=x[1],g=Object(r.useState)(""),y=Object(d.a)(g,2),N=y[0],S=y[1],_=Object(r.useState)(""),w=Object(d.a)(_,2),E=w[0],C=w[1],R=Object(r.useState)(0),P=Object(d.a)(R,2),A=P[0],F=P[1],D=Object(r.useState)([]),I=Object(d.a)(D,2),k=I[0],T=I[1],U=Object(r.useState)([]),L=Object(d.a)(U,2),V=L[0],M=L[1],G=Object(m.d)(),W=Object(b.b)(),J=Object(b.c)((function(e){return e.newProduct})),Q=J.loading,q=J.error,B=J.success,Y=Object(b.c)((function(e){return e.vendor})).vendor;Object(r.useEffect)((function(){q&&(G.error(q),W(rt())),B&&(t.push("/admin/products"),G.success("Product created successfully"),W({type:De}))}),[W,G,q,B,t]);return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"New Product"}),Object(he.jsxs)("div",{className:"row",children:[Object(he.jsx)("div",{className:"col-12 col-md-2",children:Object(he.jsx)(At,{})}),Object(he.jsx)("div",{className:"col-12 col-md-10",children:Object(he.jsx)(r.Fragment,{children:Object(he.jsx)("div",{className:"wrapper my-5",children:Object(he.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c=new FormData;c.set("userId",Y._id),c.set("name",u),c.set("price",f),c.set("description",N),c.set("category",E),c.set("stock",A),c.set("vendor",Y.name),k.forEach((function(e){c.append("images",e)})),W((t=c,function(){var e=Object(i.a)(l.a.mark((function e(c){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:Pe}),a={headers:{"Content-Type":"application/json"}},e.next=5,O.a.post("/api/v1/admin/product/new",t,a);case 5:r=e.sent,s=r.data,c({type:Ae,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:Fe,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(he.jsx)("h1",{className:"mb-4",children:"New Product"}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"name_field",children:"User Id"}),Object(he.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(he.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:u,onChange:function(e){return p(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(he.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:f,onChange:function(e){return v(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(he.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:N,onChange:function(e){return S(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(he.jsx)("select",{className:"form-control",id:"category_field",value:E,onChange:function(e){return C(e.target.value)},children:["Electronics","Laptops","Mobiles","Computers","Accessories","MotherBoards","Processors","GraphicCards","Ram","HardDisks","SSD","KeyBoards","Mouse","Headphones","Cpu","PowerSupply","Case","Monitor"].map((function(e){return Object(he.jsx)("option",{value:e,children:e},e)}))})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(he.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:A,onChange:function(e){return F(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{children:"Images"}),Object(he.jsxs)("div",{className:"custom-file",children:[Object(he.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);M([]),T([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(M((function(e){return[].concat(Object(Ct.a)(e),[t.result])})),T((function(e){return[].concat(Object(Ct.a)(e),[t.result])})))},t.readAsDataURL(e)}))},multiple:!0}),Object(he.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),V.map((function(e){return Object(he.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"},e)}))]}),Object(he.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!Q,children:"CREATE"})]})})})})]})]})},Tt=function(e){var t=e.match,c=e.history,a=Object(r.useState)(""),s=Object(d.a)(a,2),n=s[0],o=s[1],j=Object(r.useState)(0),u=Object(d.a)(j,2),p=u[0],h=u[1],x=Object(r.useState)(""),f=Object(d.a)(x,2),v=f[0],g=f[1],y=Object(r.useState)(""),N=Object(d.a)(y,2),S=N[0],_=N[1],w=Object(r.useState)(0),E=Object(d.a)(w,2),C=E[0],R=E[1],P=Object(r.useState)(""),A=Object(d.a)(P,2),F=A[0],D=A[1],I=Object(r.useState)([]),k=Object(d.a)(I,2),T=k[0],U=k[1],L=Object(r.useState)([]),V=Object(d.a)(L,2),M=V[0],G=V[1],W=Object(r.useState)([]),J=Object(d.a)(W,2),Q=J[0],q=J[1],B=Object(m.d)(),Y=Object(b.b)(),H=Object(b.c)((function(e){return e.productDetails})),z=H.error,K=H.product,$=Object(b.c)((function(e){return e.product})),X=$.loading,Z=$.error,ee=$.isUpdated,te=t.params.id;Object(r.useEffect)((function(){K&&K._id!==te?Y(ct(te)):(o(K.name),h(K.price),g(K.description),_(K.category),D(K.seller),R(K.stock),G(K.images)),z&&(B.error(z),Y(rt)),Z&&(B.error(Z),Y(rt)),ee&&(c.push("/admin/products"),B.success("Product updated successfully"),Y({type:Ge}))}),[Y,B,z,ee,c,Z,K,te]);return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Update Product"}),Object(he.jsxs)("div",{className:"row",children:[Object(he.jsx)("div",{className:"col-12 col-md-2",children:Object(he.jsx)(At,{})}),Object(he.jsx)("div",{className:"col-12 col-md-10",children:Object(he.jsx)(r.Fragment,{children:Object(he.jsx)("div",{className:"wrapper my-5",children:Object(he.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,c,a=new FormData;a.set("name",n),a.set("price",p),a.set("description",v),a.set("category",S),a.set("stock",C),a.set("seller",F),T.forEach((function(e){a.append("images",e)})),Y((t=K._id,c=a,function(){var e=Object(i.a)(l.a.mark((function e(a){var r,s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:Le}),r={headers:{"Content-Type":"application/json"}},e.next=5,O.a.put("/api/v1/admin/product/".concat(t),c,r);case 5:s=e.sent,n=s.data,a({type:Ve,payload:n.success}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:Me,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},encType:"multipart/form-data",children:[Object(he.jsx)("h1",{className:"mb-4",children:"Update Product"}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"name_field",children:"Name"}),Object(he.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"price_field",children:"Price"}),Object(he.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:p,onChange:function(e){return h(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"description_field",children:"Description"}),Object(he.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:v,onChange:function(e){return g(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"category_field",children:"Category"}),Object(he.jsx)("select",{className:"form-control",id:"category_field",value:S,onChange:function(e){return _(e.target.value)},children:["Electronics","Laptops","Mobiles","Computers","Accessories","MotherBoards","Processors","GraphicCards","Ram","HardDisks","SSD","KeyBoards","Mouse","Headphones","Cpu","PowerSupply","Case","Monitor"].map((function(e){return Object(he.jsx)("option",{value:e,children:e},e)}))})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"stock_field",children:"Stock"}),Object(he.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:C,onChange:function(e){return R(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"seller_field",children:"Seller Name"}),Object(he.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:F,onChange:function(e){return D(e.target.value)}})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{children:"Images"}),Object(he.jsxs)("div",{className:"custom-file",children:[Object(he.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:function(e){var t=Array.from(e.target.files);q([]),U([]),G([]),t.forEach((function(e){var t=new FileReader;t.onload=function(){2===t.readyState&&(q((function(e){return[].concat(Object(Ct.a)(e),[t.result])})),U((function(e){return[].concat(Object(Ct.a)(e),[t.result])})))},t.readAsDataURL(e)}))},multiple:!0}),Object(he.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),M&&M.map((function(e){return Object(he.jsx)("img",{src:e.url,alt:e.url,className:"mt-3 mr-2",width:"55",height:"52"},e)})),Q.map((function(e){return Object(he.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"},e)}))]}),Object(he.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!X,children:"UPDATE"})]})})})})]})]})},Ut=c(42),Lt=c(119),Vt=c(118),Mt="CREATE_ORDER_REQUEST",Gt="CREATE_ORDER_SUCCESS",Wt="CREATE_ORDER_FAIL",Jt="CLEAR_ERRORS",Qt="MY_ORDERS_REQUEST",qt="MY_ORDERS_SUCCESS",Bt="MY_ORDERS_FAIL",Yt="ALL_ORDERS_REQUEST",Ht="ALL_ORDERS_SUCCESS",zt="ALL_ORDERS_FAIL",Kt="ORDER_DETAILS_REQUEST",$t="ORDER_DETAILS_SUCCESS",Xt="ORDER_DETAILS_FAIL",Zt=Object(Ut.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:case We:return{loading:!0,products:[]};case Ce:return{loading:!1,products:t.payload.products,productsCount:t.payload.productsCount,resPerPage:t.payload.resPerPage,filteredProductCount:t.payload.filteredProductCount};case Je:return{loading:!1,products:t.payload};case Re:case Qe:return{loading:!1,error:t.payload};case tt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Be:return{loading:!1,product:t.payload};case Ye:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case tt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},newProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Ae:return{loading:!1,success:t.payload.success,product:t.payload.product};case Fe:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case De:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case tt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:case Le:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case ke:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload});case Ve:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case Te:case Me:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case Ue:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case Ge:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1});case tt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},allProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case He:return{loading:!0,products:[]};case ze:return{loading:!1,products:t.payload};case Ke:return{loading:!1,error:t.payload};case tt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},newReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $e:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Xe:return{loading:!1,success:t.payload};case et:return Object(a.a)(Object(a.a)({},e),{},{error:t.payload});case Ze:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case tt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:case v:case N:return{loading:!0,isAuthenticatedUser:!1};case x:case g:case S:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticatedUser:!0,user:t.payload});case w:return{loading:!1,isAuthenticatedUser:!1,user:null};case _:return{loading:!1,isAuthenticatedUser:!1,user:null,error:t.payload};case E:return Object(a.a)(Object(a.a)({},e),{},{erroe:t.payload});case f:case y:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!1,user:null,error:t.payload});case W:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},vendor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vendor:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:case Z:case ce:return{loadingg:!0,isAuthenticatedVendor:!1};case $:case ee:case ae:return Object(a.a)(Object(a.a)({},e),{},{loadingg:!1,isAuthenticatedVendor:!0,vendor:t.payload});case ie:return{loadingg:!1,isAuthenticatedVendor:!1,vendor:null};case re:return{loadingg:!1,isAuthenticatedVendor:!1,vendor:null,error:t.payload};case de:return Object(a.a)(Object(a.a)({},e),{},{erroe:t.payload});case X:case te:return Object(a.a)(Object(a.a)({},e),{},{loadingg:!1,isAuthenticatedVendor:!1,vendor:null,error:t.payload});case me:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},vendorr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case ne:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,idUpdated:t.payload});case le:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:!1});case oe:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});default:return e}},allVendors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vendors:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case ue:return Object(a.a)(Object(a.a)({},e),{},{vendors:t.payload});case be:case me:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:case F:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case R:case D:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case A:case I:return Object(a.a)(Object(a.a)({},e),{},{isupdated:!1});case P:case k:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case W:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},forgotPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:case V:return Object(a.a)(Object(a.a)({},e),{},{loading:!0,error:null});case U:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,message:t.payload});case M:return Object(a.a)(Object(a.a)({},e),{},{success:t.payload});case L:case G:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case W:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return{cartItems:[],shippingInfo:{}};case q:var c=t.payload,r=e.cartItems.find((function(e){return e.product===c.product}));return r?Object(a.a)(Object(a.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===r.product?c:e}))}):Object(a.a)(Object(a.a)({},e),{},{cartItems:[].concat(Object(Ct.a)(e.cartItems),[c])});case B:return Object(a.a)(Object(a.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case Y:return Object(a.a)(Object(a.a)({},e),{},{shippingInfo:t.payload});default:return e}},newOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mt:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Gt:return{loading:!1,order:t.payload};case Wt:return{loading:!1,error:t.payload};case Jt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},myOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qt:return{loading:!0};case qt:return{loading:!1,orders:t.payload};case Bt:return{loading:!1,error:t.payload};case Jt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kt:return{loading:!0};case $t:return{loading:!1,order:t.payload};case Xt:return{loading:!1,error:t.payload};case Jt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},allOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yt:return{loading:!0};case Ht:return{loading:!1,orders:t.payload.orders,totalAmount:t.payload.totalAmount};case zt:return{loading:!1,error:t.payload};case Jt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}}}),ec={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):{}}},tc=[Lt.a],cc=Object(Ut.createStore)(Zt,ec,Object(Vt.composeWithDevTools)(Ut.applyMiddleware.apply(void 0,tc))),ac=function(e){var t=e.history,c=Object(b.b)(),a=Object(b.c)((function(e){return e.cart})).cartItems,s=function(e){c(function(e){return function(){var t=Object(i.a)(l.a.mark((function t(c,a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:B,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()}(e))};return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Your Cart"}),0===a.length?Object(he.jsx)("h2",{className:"mt-5",children:"Your Cart is Empty"}):Object(he.jsxs)(r.Fragment,{children:[Object(he.jsxs)("h2",{className:"mt-5",children:["Your Cart: ",Object(he.jsxs)("b",{children:[a.length," items"]})]}),Object(he.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(he.jsx)("div",{className:"col-12 col-lg-8",children:a.map((function(e){return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)("hr",{}),Object(he.jsx)("div",{className:"cart-item",children:Object(he.jsxs)("div",{className:"row",children:[Object(he.jsx)("div",{className:"col-4 col-lg-3",children:Object(he.jsx)("img",{src:e.image,alt:"",height:"90",width:"115"})}),Object(he.jsx)("div",{className:"col-5 col-lg-3",children:Object(he.jsx)(j.b,{to:"/products/".concat(e.product),children:e.name})}),Object(he.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(he.jsxs)("p",{id:"card_item_price",children:["RS",e.price]})}),Object(he.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(he.jsxs)("div",{className:"stockCounter d-inline",children:[Object(he.jsx)("span",{className:"btn btn-danger minus",onClick:function(){return function(e,t){var a=t-1;a<=0||c(z(e,a))}(e.product,e.quantity)},children:"-"}),Object(he.jsx)("input",{type:"number",className:"form-control count d-inline",value:e.quantity,readOnly:!0}),Object(he.jsx)("span",{className:"btn btn-primary plus",onClick:function(){return function(e,t,a){var r=t+1;r>a||c(z(e,r))}(e.product,e.quantity,e.stock)},children:"+"})]})}),Object(he.jsx)("div",{className:"col-4 col-lg-1 mt-4 mt-lg-0",children:Object(he.jsx)("i",{id:"delete_cart_item",className:"fa fa-trash btn btn-danger",onClick:function(){return s(e.product)}})})]})},e.product),Object(he.jsx)("hr",{})]})}))}),Object(he.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(he.jsxs)("div",{id:"order_summary",children:[Object(he.jsx)("h4",{children:"Order Summary"}),Object(he.jsx)("hr",{}),Object(he.jsxs)("p",{children:["Subtotal:"," ",Object(he.jsxs)("span",{className:"order-summary-values",children:[a.reduce((function(e,t){return e+Number(t.quantity)}),0)," ","(Units)"]})]}),Object(he.jsxs)("p",{children:["Est. total:"," ",Object(he.jsxs)("span",{className:"order-summary-values",children:["RS",a.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2)]})]}),Object(he.jsx)("hr",{}),Object(he.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){t.push("/login?redirect=shipping")},children:"Check out"})]})})]})]})]})},rc=c(120),sc=function(e){var t=e.shipping,c=e.confirmOrder,a=e.payment;return Object(he.jsxs)("div",{className:"checkout-progress d-flex justify-content-center mt-5",children:[t?Object(he.jsxs)(j.b,{to:"shippping",className:"float-right",children:[Object(he.jsx)("div",{className:"triangle2-active"}),Object(he.jsx)("div",{className:"step active-step",children:"Shipping"}),Object(he.jsx)("div",{className:"triangle-active"})]}):Object(he.jsxs)(j.b,{to:"#!",disabled:!0,children:[Object(he.jsx)("div",{className:"triangle2-incomplete"}),Object(he.jsx)("div",{className:"step incomplete",children:"Shipping"}),Object(he.jsx)("div",{className:"triangle-incomplete"})]}),c?Object(he.jsxs)(j.b,{to:"/order/confirm",className:"float-right",children:[Object(he.jsx)("div",{className:"triangle2-active"}),Object(he.jsx)("div",{className:"step active-step",children:"Confirm Order"}),Object(he.jsx)("div",{className:"triangle-active"})]}):Object(he.jsxs)(j.b,{to:"#!",disabled:!0,children:[Object(he.jsx)("div",{className:"triangle2-incomplete"}),Object(he.jsx)("div",{className:"step incomplete",children:"Confirm Order"}),Object(he.jsx)("div",{className:"triangle-incomplete"})]}),a?Object(he.jsxs)(j.b,{to:"/payment",className:"float-right",children:[Object(he.jsx)("div",{className:"triangle2-active"}),Object(he.jsx)("div",{className:"step active-step",children:"Payment"}),Object(he.jsx)("div",{className:"triangle-active"})]}):Object(he.jsxs)(j.b,{to:"#!",disabled:!0,children:[Object(he.jsx)("div",{className:"triangle2-incomplete"}),Object(he.jsx)("div",{className:"step incomplete",children:"Payment"}),Object(he.jsx)("div",{className:"triangle-incomplete"})]})]})},nc=function(e){var t=e.history,c=Object.values(rc.countries),a=Object(b.c)((function(e){return e.cart})).shippingInfo,s=Object(r.useState)(a.address),n=Object(d.a)(s,2),o=n[0],j=n[1],u=Object(r.useState)(a.city),m=Object(d.a)(u,2),p=m[0],O=m[1],h=Object(r.useState)(a.postalCode),x=Object(d.a)(h,2),f=x[0],v=x[1],g=Object(r.useState)(a.phoneNo),y=Object(d.a)(g,2),N=y[0],S=y[1],_=Object(r.useState)(a.country),w=Object(d.a)(_,2),E=w[0],C=w[1],R=Object(b.b)();return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Shipping Info"}),Object(he.jsx)(sc,{shipping:!0}),Object(he.jsx)("div",{className:"row wrapper",children:Object(he.jsx)("div",{className:"col-10 col-lg-5",children:Object(he.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var c;e.preventDefault(),R((c={address:o,city:p,phoneNo:N,postalCode:f,country:E},function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Y,payload:c}),localStorage.setItem("shippingInfo",JSON.stringify(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/confirm")},children:[Object(he.jsx)("h1",{className:"mb-4",children:"Shipping Info"}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"address_field",children:"Address"}),Object(he.jsx)("input",{type:"text",id:"address_field",className:"form-control",value:o,onChange:function(e){return j(e.target.value)},required:!0})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"city_field",children:"City"}),Object(he.jsx)("input",{type:"text",id:"city_field",className:"form-control",value:p,onChange:function(e){return O(e.target.value)},required:!0})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"phone_field",children:"Phone No"}),Object(he.jsx)("input",{type:"phone",id:"phone_field",className:"form-control",value:N,onChange:function(e){return S(e.target.value)},required:!0})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"postal_code_field",children:"Postal Code"}),Object(he.jsx)("input",{type:"number",id:"postal_code_field",className:"form-control",value:f,onChange:function(e){return v(e.target.value)},required:!0})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"country_field",children:"Country"}),Object(he.jsx)("select",{id:"country_field",className:"form-control",value:E,onChange:function(e){return C(e.target.value)},required:!0,children:c.map((function(e){return Object(he.jsx)("option",{value:e.name,children:e.name},e.name)}))})]}),Object(he.jsx)("button",{id:"shipping_btn",type:"submit",className:"btn btn-block py-3",children:"CONTINUE"})]})})})]})},oc=function(e){var t=e.history,c=Object(b.c)((function(e){return e.cart})),a=c.cartItems,s=c.shippingInfo,n=Object(b.c)((function(e){return e.auth})).user,o=a.reduce((function(e,t){return e+t.price*t.quantity}),0),l=o>200?0:25,i=Number((.05*o).toFixed(2)),d=(o+l+i).toFixed(2);return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Confirm Order"}),Object(he.jsx)(sc,{shipping:!0,confirmOrder:!0}),Object(he.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(he.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-confirm",children:[Object(he.jsx)("h4",{className:"mb-3",children:"Shipping Info"}),Object(he.jsxs)("p",{children:[Object(he.jsx)("b",{children:"Name:"})," ",n&&n.name]}),Object(he.jsxs)("p",{children:[Object(he.jsx)("b",{children:"Phone:"})," ",s.phoneNo]}),Object(he.jsxs)("p",{className:"mb-4",children:[Object(he.jsx)("b",{children:"Address:"})," ","".concat(s.address,", ").concat(s.city,", ").concat(s.postalCode,", ").concat(s.country)]}),Object(he.jsx)("hr",{}),Object(he.jsx)("h4",{className:"mt-4",children:"Your Cart Items:"}),a.map((function(e){return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)("hr",{}),Object(he.jsx)("div",{className:"cart-item my-1",children:Object(he.jsxs)("div",{className:"row",children:[Object(he.jsx)("div",{className:"col-4 col-lg-2",children:Object(he.jsx)("img",{src:e.image,alt:"Laptop",height:"45",width:"65"})}),Object(he.jsx)("div",{className:"col-5 col-lg-6",children:Object(he.jsx)(j.b,{to:"/product/{item.product}",children:e.name})}),Object(he.jsx)("div",{className:"col-4 col-lg-4 mt-4 mt-lg-0",children:Object(he.jsxs)("p",{children:[e.quantity," x $",e.price," = ",Object(he.jsx)("b",{children:(e.quantity*e.price).toFixed(2)})]})})]})},e.product),Object(he.jsx)("hr",{})]})}))]}),Object(he.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object(he.jsxs)("div",{id:"order_summary",children:[Object(he.jsx)("h4",{children:"Order Summary"}),Object(he.jsx)("hr",{}),Object(he.jsxs)("p",{children:["Subtotal:  ",Object(he.jsx)("span",{className:"order-summary-values",children:o})]}),Object(he.jsxs)("p",{children:["Shipping: ",Object(he.jsx)("span",{className:"order-summary-values",children:l})]}),Object(he.jsxs)("p",{children:["Tax:  ",Object(he.jsx)("span",{className:"order-summary-values",children:i})]}),Object(he.jsx)("hr",{}),Object(he.jsxs)("p",{children:["Total: ",Object(he.jsx)("span",{className:"order-summary-values",children:d})]}),Object(he.jsx)("hr",{}),Object(he.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:function(){var e={itemsPrice:o.toFixed(2),shippingPrice:l,taxPrice:i,totalPrice:d};sessionStorage.setItem("orderInfo",JSON.stringify(e)),t.push("/payment")},children:"Proceed to Payment"})]})})]})]})},lc=function(e){return function(){var t=Object(i.a)(l.a.mark((function t(c,a){var r,s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Mt}),r={headers:{"Content-Type":"application/json"}},t.next=5,O.a.post("/api/v1/order/new",e,r);case 5:s=t.sent,n=s.data,c({type:Gt,payload:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:Wt,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,c){return t.apply(this,arguments)}}()},ic=function(e){e({type:Jt})},dc=c(28),jc={style:{base:{fontSize:"16px"},invalid:{color:"#9e2146"}}},uc=function(e){var t=e.history,c=Object(m.d)(),a=Object(dc.useStripe)(),s=Object(dc.useElements)(),n=Object(b.b)(),o=Object(b.c)((function(e){return e.auth})).user,d=Object(b.c)((function(e){return e.cart})),j=d.cartItems,u=d.shippingInfo,p=Object(b.c)((function(e){return e.newOrder})).error;Object(r.useEffect)((function(){p&&(c.error(p),n(ic))}),[n,c,p]);var h={orderItems:j,shippingInfo:u},x=JSON.parse(sessionStorage.getItem("orderInfo"));x&&(h.itemsPrice=x.itemsPrice,h.shippingPrice=x.shippingPrice,h.taxPrice=x.taxPrice,h.totalPrice=x.totalPrice);var f={amount:Math.round(100*x.totalPrice)},v=function(){var e=Object(i.a)(l.a.mark((function e(r){var i,d,j,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),document.querySelector("#pay_btn").disabled=!0,e.prev=2,d={headers:{"Content-Type":"application/json"}},e.next=6,O.a.post("/api/v1/payment/process",f,d);case 6:if(i=e.sent,j=i.data.client_secret,console.log(j),a&&s){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,a.confirmCardPayment(j,{payment_method:{card:s.getElement(dc.CardNumberElement),billing_details:{name:o.name,email:o.email}}});case 13:(u=e.sent).error?(c.error(u.error.message),document.querySelector("#pay_btn").disabled=!1):"succeeded"===u.paymentIntent.status?(h.paymentInfo={id:u.paymentIntent.id,status:u.paymentIntent.status},n(lc(h)),t.push("/success")):c.error("There is some issue while payment processing"),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(2),document.querySelector("#pay_btn").disabled=!1,c.error(e.t0.response.data.message),console.log(e.t0.response.data);case 22:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Payment"}),Object(he.jsx)(sc,{shipping:!0,confirmOrder:!0,payment:!0}),Object(he.jsx)("div",{className:"row wrapper",children:Object(he.jsx)("div",{className:"col-10 col-lg-5",children:Object(he.jsxs)("form",{className:"shadow-lg",onSubmit:v,children:[Object(he.jsx)("h1",{className:"mb-4",children:"Card Info"}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"card_num_field",children:"Card Number"}),Object(he.jsx)(dc.CardNumberElement,{type:"text",id:"card_num_field",className:"form-control",options:jc})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"card_exp_field",children:"Card Expiry"}),Object(he.jsx)(dc.CardExpiryElement,{type:"text",id:"card_exp_field",className:"form-control",options:jc})]}),Object(he.jsxs)("div",{className:"form-group",children:[Object(he.jsx)("label",{htmlFor:"card_cvc_field",children:"Card CVC"}),Object(he.jsx)(dc.CardCvcElement,{type:"text",id:"card_cvc_field",className:"form-control",options:jc})]}),Object(he.jsxs)("button",{id:"pay_btn",type:"submit",className:"btn btn-block py-3",children:["Pay "," - ".concat(x&&x.totalPrice)]})]})})})]})},bc=function(){return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Order Success"}),Object(he.jsx)("div",{className:"row justify-content-center",children:Object(he.jsxs)("div",{className:"col-6 mt-5 text-center",children:[Object(he.jsx)("img",{className:"my-5 img-fluid d-block mx-auto",src:"/images/payment-successful.png",alt:"Order Success",width:"200",height:"200"}),Object(he.jsx)("h2",{children:"Your Order has been placed successfully."}),Object(he.jsx)(j.b,{to:"/orders/user",children:"Go to Orders"})]})})]})},mc=function(){var e=Object(m.d)(),t=Object(b.b)(),c=Object(b.c)((function(e){return e.myOrders})),a=c.loading,s=c.error,n=c.orders;Object(r.useEffect)((function(){t(function(){var e=Object(i.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Qt}),e.next=4,O.a.get("/api/v1/orders/user");case 4:c=e.sent,a=c.data,t({type:qt,payload:a.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Bt,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),s&&(e.error(s),t(ic))}),[t,e,s]);return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"My Orders"}),Object(he.jsx)("h1",{className:"my-5",children:"My Orders"}),a?Object(he.jsx)(Se,{}):Object(he.jsx)(Dt.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"Num of Items",field:"numOfItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions",sort:"asc"}],rows:[]};return n.forEach((function(t){e.rows.push({id:t._id,numOfItems:t.orderItems.length,amount:"".concat(t.totalPrice," Rs"),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?Object(he.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(he.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object(he.jsx)(j.b,{to:"/order/".concat(t._id),className:"btn btn-primary",children:Object(he.jsx)("i",{className:"fa fa-eye"})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})},pc=function(e){var t=e.match,c=Object(m.d)(),a=Object(b.b)(),s=Object(b.c)((function(e){return e.orderDetails})),n=s.loading,o=s.error,d=s.order,u=void 0===d?{}:d,p=u.shippingInfo,h=u.orderItems,x=u.paymentInfo,f=u.user,v=u.totalPrice,g=u.orderStatus;Object(r.useEffect)((function(){var e;a((e=t.params.id,function(){var t=Object(i.a)(l.a.mark((function t(c){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Kt}),t.next=4,O.a.get("/api/v1/order/".concat(e));case 4:a=t.sent,r=a.data,c({type:$t,payload:r.order}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:Xt,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())),o&&(c.error(o),a(ic))}),[a,c,o,t.params.id]);var y=p&&"".concat(p.address,", ").concat(p.city,", ").concat(p.postalCode,", ").concat(p.country),N=!(!x||"succeeded"!==x.status);return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"Order Details"}),n?Object(he.jsx)(Se,{}):Object(he.jsx)(r.Fragment,{children:Object(he.jsx)("div",{className:"row d-flex justify-content-between",children:Object(he.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-details",children:[Object(he.jsxs)("h1",{className:"my-5",children:["Order # ",u._id]}),Object(he.jsx)("h4",{className:"mb-4",children:"Shipping Info"}),Object(he.jsxs)("p",{children:[Object(he.jsx)("b",{children:"Name:"})," ",f&&f.name]}),Object(he.jsxs)("p",{children:[Object(he.jsx)("b",{children:"Phone:"})," ",p&&p.phoneNo]}),Object(he.jsxs)("p",{className:"mb-4",children:[Object(he.jsx)("b",{children:"Address:"}),y]}),Object(he.jsxs)("p",{children:[Object(he.jsx)("b",{children:"Amount:"})," ",v," Rs"]}),Object(he.jsx)("hr",{}),Object(he.jsx)("h4",{className:"my-4",children:"Payment"}),Object(he.jsx)("p",{className:N?"greenColor":"redColor",children:Object(he.jsx)("b",{children:N?"PAID":"NOT PAID"})}),Object(he.jsx)("h4",{className:"my-4",children:"Order Status:"}),Object(he.jsx)("p",{className:u.orderStatus&&String(u.orderStatus).includes("Delivered")?"greenColor":"redColor",children:Object(he.jsx)("b",{children:g})}),Object(he.jsx)("h4",{className:"my-4",children:"Order Items:"}),Object(he.jsx)("hr",{}),Object(he.jsx)("div",{className:"cart-item my-1",children:h&&h.map((function(e){return Object(he.jsxs)("div",{className:"row my-5",children:[Object(he.jsx)("div",{className:"col-4 col-lg-2",children:Object(he.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object(he.jsx)("div",{className:"col-5 col-lg-5",children:Object(he.jsx)(j.b,{to:"/products/".concat(e.product),children:e.name})}),Object(he.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(he.jsxs)("p",{children:[" ",e.price," Rs"]})}),Object(he.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(he.jsxs)("p",{children:[e.quantity," Piece(s)"]})})]},e.product)}))}),Object(he.jsx)("hr",{})]})})})]})},Oc=function(e){var t=e.history,c=Object(m.d)(),a=Object(b.b)(),s=Object(b.c)((function(e){return e.allOrders})),n=s.loading,o=s.error,d=s.orders;Object(r.useEffect)((function(){a(function(){var e=Object(i.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Yt}),e.next=4,O.a.get("/api/v1/admin/orders");case 4:c=e.sent,a=c.data,t({type:Ht,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:zt,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),o&&(c.error(o),a(ic))}),[a,c,o,t]);return Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(ye,{title:"All Orders"}),Object(he.jsxs)("div",{className:"row",children:[Object(he.jsx)("div",{className:"col-12 col-md-2",children:Object(he.jsx)(At,{})}),Object(he.jsx)("div",{className:"col-12 col-md-10",children:Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)("h1",{className:"my-5",children:"All Orders"}),n?Object(he.jsx)(Se,{}):Object(he.jsx)(Dt.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"No of Items",field:"numofItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"},{label:"Actions",field:"actions"}],rows:[]};return d.forEach((function(t){e.rows.push({id:t._id,numofItems:t.orderItems.length,amount:"".concat(t.totalPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?Object(he.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(he.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object(he.jsxs)(r.Fragment,{children:[Object(he.jsx)(j.b,{to:"/admin/order/{order._id}",className:"btn btn-primary py-1 px-2",children:Object(he.jsx)("i",{className:"fa fa-eye"})}),Object(he.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",children:Object(he.jsx)("i",{className:"fa fa-trash"})})]})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})},hc=c(121);var xc=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){return(e=Object(i.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/api/v1/stripeapi");case 2:t=e.sent,c=t.data,console.log(c.stripeApiKey),a(c.stripeApiKey);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}cc.dispatch(J()),cc.dispatch(pe()),cc.dispatch(function(){var e=Object(i.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("calling all vendors"),t({type:je}),console.log("helo"),e.next=6,O.a.get("/api/v1/admin/vendors");case 6:c=e.sent,console.log("data got",c),t({type:ue,payload:c.data.vendors}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("catch error"),t({type:be,payload:e.t0.response.data.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),function(){e.apply(this,arguments)}()}),[]),Object(he.jsx)(j.a,{children:Object(he.jsxs)("div",{className:"App",children:[Object(he.jsx)(fe,{}),Object(he.jsx)(u.b,{path:"/",component:ot,exact:!0}),Object(he.jsx)(u.b,{path:"/search/:keyword",component:ot}),Object(he.jsx)(u.b,{path:"/product/:id",component:dt,exact:!0}),Object(he.jsx)(u.b,{path:"/cart",component:ac,exact:!0}),Object(he.jsx)(_t,{path:"/shipping",component:nc}),Object(he.jsx)(_t,{path:"/confirm",component:oc}),Object(he.jsx)(_t,{path:"/success",component:bc}),Object(he.jsx)(_t,{path:"/orders/user",component:mc}),Object(he.jsx)(_t,{path:"/order/:id",component:pc}),Object(he.jsx)(Et,{path:"/admin/orders",isAdmin:!0,component:Oc,exact:!0}),c&&Object(he.jsx)(dc.Elements,{stripe:Object(hc.a)(c),children:Object(he.jsx)(_t,{path:"/payment",component:uc})}),Object(he.jsx)(u.b,{path:"/login",component:jt}),Object(he.jsx)(u.b,{path:"/loginvendor",component:ft}),Object(he.jsx)(u.b,{path:"/registervendor",component:vt}),Object(he.jsx)(u.b,{path:"/register",component:bt}),Object(he.jsx)(u.b,{path:"/userpassword/forgot",component:ht,exact:!0}),Object(he.jsx)(u.b,{path:"/userpassword/reset/:token",component:xt,exact:!0}),Object(he.jsx)(u.b,{path:"/vendor/update",component:yt,exact:!0}),Object(he.jsx)(_t,{path:"/user",component:mt,exact:!0}),Object(he.jsx)(_t,{path:"/user/update",component:pt,exact:!0}),Object(he.jsx)(_t,{path:"/password/update",component:Ot,exact:!0}),Object(he.jsx)(Et,{path:"/vendor",component:gt,exact:!0}),Object(he.jsx)(Et,{path:"/dashboard",isAdmin:!0,component:Ft,exact:!0}),Object(he.jsx)(Et,{path:"/admin/products",isAdmin:!0,component:It,exact:!0}),Object(he.jsx)(Et,{path:"/admin/product",isAdmin:!0,component:kt,exact:!0}),Object(he.jsx)(Et,{path:"/admin/product/:id",isAdmin:!0,component:Tt}),Object(he.jsx)(u.b,{path:"/pcbuildd",component:Pt,exact:!0}),Object(he.jsx)(ve,{})]})})},fc=c(122),vc={timeout:5e3,position:m.b.BOTTOM_CENTER,transition:m.c.SCALE};n.a.render(Object(he.jsx)(b.a,{store:cc,children:Object(he.jsx)(m.a,Object(a.a)(Object(a.a)({template:fc.a},vc),{},{children:Object(he.jsx)(xc,{})}))}),document.getElementById("root"))}},[[255,1,2]]]);
//# sourceMappingURL=main.7ec50184.chunk.js.map